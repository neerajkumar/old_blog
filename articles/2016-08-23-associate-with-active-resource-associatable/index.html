<html><head><title>Neeraj Kumar (neerajk.com)</title><meta content="width=device-width, initial-scale=1, maximum-scale=1" name="viewport"/><meta content="Neeraj Kumar Neeraj neerajk Ruby on Rails Ruby Ruby-oci8 Git ActiveSupport Neerajkggn Neerajkumar neerajkumar neerajkumar2013 ampersand.js hubot SPA single page application Rubyconf Rubyconf-2010 i18n RubyConfIndia2010 Passionate Programmer @bundlexec" name="description"/><meta content="Neeraj Kumar Neeraj neerajk Ruby on Rails Ruby Ruby-oci8 Git ActiveSupport Neerajkggn Neerajkumar neerajkumar neerajkumar2013 ampersand.js hubot SPA single page application Rubyconf Rubyconf-2010 i18n RubyConfIndia2010 Passionate Programmer @bundlexec" name="keywords"/><meta charset="utf-8"/><meta content="IE=edge;chrome=1"/><meta http-equiv="X-UA-Compatible"/><!--meta(http-equiv="content-type", content='width=device-width, initial-scale=1.0, charset=utf-8')--><link rel="SHORTCUT ICON" href="http://blog.neerajk.com/assets/images/13.jpg"/><link rel="stylesheet" href="http://blog.neerajk.com/assets/css/github.css"/><link rel="stylesheet" media="screen" href="http://blog.neerajk.com/assets/bootstrap/css/bootstrap.min.css"/><style type="text/css">body {
    padding-top: 60px;
    padding-bottom: 40px;
}
h1 {
    font-size: 2em;
}
h2 {
    font-size: 1.8em;
}
h3 {
    font-size: 1.7em;
}

@media only screen
and (min-width : 768px)
and (max-width : 995px) {
  h3 {
        font-size: 1.2em;
  }
}
</style><link rel="stylesheet" href="http://blog.neerajk.com/assets/css/prettify.css"/><link rel="stylesheet" href="http://fonts.googleapis.com/css?family=ABeeZee&amp;subset=latin"/><link rel="stylesheet" href="http://blog.neerajk.com/assets/css/app.css"/></head><body><div class="container"><div class="navbar navbar-default navbar-fixed-top"><div class="container"><div class="navbar-header"><a href="http://blog.neerajk.com" class="navbar-brand">Neeraj Kumar</a><buttona type="button" data-toggle="collapse" data-target="#navbar-main" class="navbar-toggle"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></buttona></div><div id="navbar-main" class="navbar-collapse collapse"><!-- .nav, .navbar-search, .navbar-form, etc --><ul class="nav navbar-nav"><li class="dropdown"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Tags<b class="caret"></b></a><ul class="dropdown-menu"><li><a href="http://blog.neerajk.com/tag/active_support.html">active_support</a></li><li><a href="http://blog.neerajk.com/tag/ActiveRecord.html">ActiveRecord</a></li><li><a href="http://blog.neerajk.com/tag/ActiveResource.html">ActiveResource</a></li><li><a href="http://blog.neerajk.com/tag/ActiveResourceAssociatable.html">ActiveResourceAssociatable</a></li><li><a href="http://blog.neerajk.com/tag/ActiveResourceChangeable.html">ActiveResourceChangeable</a></li><li><a href="http://blog.neerajk.com/tag/ampersand.js.html">ampersand.js</a></li><li><a href="http://blog.neerajk.com/tag/basecamp.html">basecamp</a></li><li><a href="http://blog.neerajk.com/tag/campfire.html">campfire</a></li><li><a href="http://blog.neerajk.com/tag/capistrano.html">capistrano</a></li><li><a href="http://blog.neerajk.com/tag/git.html">git</a></li><li><a href="http://blog.neerajk.com/tag/hubot.html">hubot</a></li><li><a href="http://blog.neerajk.com/tag/jeremy evans.html">jeremy evans</a></li><li><a href="http://blog.neerajk.com/tag/rails.html">rails</a></li><li><a href="http://blog.neerajk.com/tag/Roda.html">Roda</a></li><li><a href="http://blog.neerajk.com/tag/ruby.html">ruby</a></li><li><a href="http://blog.neerajk.com/tag/spa.html">spa</a></li><li><a href="http://blog.neerajk.com/tag/svn.html">svn</a></li></ul></li><li><a href="http://blog.neerajk.com/archive.html">Archive</a></li></ul><form id="search-form" action="http://www.google.com/search" method="get" class="navbar-form pull-right"><span class="glass js-search-action"><i></i></span><input type="hidden" value="UTF-8" name="ie"/><input type="hidden" value="UTF-8" name="oe"/><input type="hidden" value="blog.neerajk.com" name="domains"/><input type="hidden" value="blog.neerajk.com" name="sitesearch"/><input name="q" type="text" placeholder="Search using Google..." class="search-query span2"/></form></div></div></div><div class="row"><div class="col-lg-9 col-sm-9"><article class="post shadow"><div><h1>Associate with ActiveResourceAssociatable</h1><footer class="footer"><div style="font-size: 13px" class="inner">Posted by&nbsp;<span class="author"><a href="mailto:neeraj.kumar@gmail.com">Neeraj Kumar</a></span>| on&nbsp;<a href="http://blog.neerajk.com/archive.html" class="back">August 23, 2016&nbsp;</a>| Tags :&nbsp;<a href="http://blog.neerajk.com/tag/ruby.html" rel="category tag" title="View all posts in 'ruby'">ruby </a><a href="http://blog.neerajk.com/tag/rails.html" rel="category tag" title="View all posts in 'rails'">rails </a><a href="http://blog.neerajk.com/tag/ActiveRecord.html" rel="category tag" title="View all posts in 'ActiveRecord'">ActiveRecord </a><a href="http://blog.neerajk.com/tag/ActiveResource.html" rel="category tag" title="View all posts in 'ActiveResource'">ActiveResource </a><a href="http://blog.neerajk.com/tag/ActiveResourceAssociatable.html" rel="category tag" title="View all posts in 'ActiveResourceAssociatable'">ActiveResourceAssociatable </a></div></footer></div><hr/><section class="content"><p>A communication of a web app with others is not a surprise, but it is the demand of mobile world&#39;s era. Because new apps want to maintain a centralized DB which could be shared with other apps very easily and very frequently. Recently, I also worked on a similar distributed web app which provided me an idea to implement a rubygem. </p>
<p>ActiveResource is a ruby library which acts same as ActiveRecord, but perform operations over API. <a href="https://rubygems.org/gems/active_resource_associatable">ActiveResourceAssociatable</a> is also a ruby library which consolidates same kind of associations methods as ActiveRecord provides. However it could be achieved by own customized methods, but <a href="https://rubygems.org/gems/active_resource_associatable">ActiveResourceAssociatable</a> provides smarter way of accessing your ActiveRecord and ActiveResource methods. <a href="https://rubygems.org/gems/active_resource_associatable">ActiveResourceAssociatable</a> comes with some options too which will make you more easy to use this gem.</p>
<h1 id="activeresourceassociatable">ActiveResourceAssociatable</h1>
<hr>
<p>This gem is used to establish the association between your ActiveResource class to ActiveRecord class. Why? Because there is no other ruby library to provide such functionality. Its simple and taking care of all options, scopes etc with your associations.</p>
<h2 id="installation">Installation</h2>
<hr>
<p>Add this line to your application&#39;s Gemfile:</p>
<pre><code class="lang-ruby">gem <span class="string">'active_resource_associatable'</span>
</code></pre>
<p>And then execute:</p>
<pre><code>$ bundle
</code></pre><p>Or install it yourself as:</p>
<pre><code>$ gem install active_resource_associatable
</code></pre><h2 id="usage">Usage</h2>
<hr>
<p><code>include ActiveResourceAssociatable</code> in your ActiveRecord or ActiveResource model. Now you can easily call the methods of either of your ActiveRecord or ActiveResource models. This gem facilitates you to call ActiveResource objects in the same way as you call in any of your ActiveRecord model. It supports calls <code>has_one_activeresource</code>, <code>belongs_to_activeresource</code>, <code>has_many_activeresources</code>, <code>has_and_belongs_to_many_activeresources</code> and <code>has_many_through_activeresources</code>.</p>
<h4 id="has-one-activeresource">Has One ActiveResource</h4>
<p>Account is non ActiveResource class which is maintaining has one relationship with ActiveRecord class User. </p>
<pre><code class="lang-ruby"><span class="class"><span class="keyword">class</span> <span class="title">User</span> &lt; ActiveResource::Base</span>
  <span class="keyword">self</span>.site = <span class="string">""</span>

  <span class="keyword">include</span> ActiveResourceAssociatable

  belongs_to_activeresource <span class="symbol">:account</span>
<span class="keyword">end</span>
</code></pre>
<pre><code class="lang-ruby"><span class="class"><span class="keyword">class</span> <span class="title">Account</span> &lt; ActiveRecord::Base</span>
  <span class="keyword">include</span> ActiveResourceAssociatable

  has_one_activeresource <span class="symbol">:user</span>, <span class="symbol">class_name:</span> <span class="string">'UserResource'</span>
<span class="keyword">end</span>
</code></pre>
<p>Whereas Reader is a ActiveResource class, but maintaining has one relationship with Account.</p>
<pre><code class="lang-ruby"><span class="class"><span class="keyword">class</span> <span class="title">Reader</span> &lt; ActiveResource::Base</span>
  <span class="keyword">self</span>.site = <span class="string">""</span>

  <span class="keyword">include</span> ActiveResourceAssociatable

  has_one_activeresource <span class="symbol">:account</span>
<span class="keyword">end</span>
</code></pre>
<pre><code class="lang-ruby"><span class="class"><span class="keyword">class</span> <span class="title">Account</span> &lt; ActiveRecord::Base</span>
  <span class="keyword">include</span> ActiveResourceAssociatable

  belongs_to_activeresource <span class="symbol">:reader</span>
<span class="keyword">end</span>
</code></pre>
<h4 id="belongs-to-activeresource">Belongs To ActiveResource</h4>
<p>The same example which explained above in Has One ActiveResource section could be an example of belongs_to_activeresource.
<code>belongs_to_activeresource</code> can also be applied in case of <code>has_many_activeresources</code> associations.</p>
<h4 id="has-many-activeresources">Has Many ActiveResources</h4>
<p>User is ActiveResource class which maintains the has many relationships with non ActiveResource class Book.</p>
<pre><code class="lang-ruby"><span class="class"><span class="keyword">class</span> <span class="title">UserResource</span> &lt; ActiveResource::Base</span>
  <span class="keyword">self</span>.site = <span class="string">""</span>

  <span class="keyword">include</span> ActiveResourceAssociatable

  has_many_activeresources <span class="symbol">:books</span>
<span class="keyword">end</span>
</code></pre>
<pre><code class="lang-ruby"><span class="class"><span class="keyword">class</span> <span class="title">Book</span> &lt; ActiveRecord::Base</span>
  <span class="keyword">include</span> ActiveResourceAssociatable

  belongs_to_activeresource <span class="symbol">:user</span>, <span class="symbol">class_name:</span> <span class="string">'UserResource'</span>
<span class="keyword">end</span>
</code></pre>
<p>Now you can easily call <code>user.books</code> which will return the array of objects of non ActiveResource class Book.</p>
<pre><code class="lang-ruby"><span class="class"><span class="keyword">class</span> <span class="title">Library</span> &lt; ActiveRecord::Base</span>
  <span class="keyword">include</span> ActiveResourceAssociatable

  has_many_activeresources <span class="symbol">:readers</span>
<span class="keyword">end</span>
</code></pre>
<p><code>has_many_activeresources</code> also comes with options <code>class_name</code>.</p>
<pre><code class="lang-ruby"><span class="class"><span class="keyword">class</span> <span class="title">Reader</span> &lt; ActiveResource::Base</span>
  <span class="keyword">self</span>.site = <span class="string">""</span>

  <span class="keyword">include</span> ActiveResourceAssociatable

  has_many_activeresources <span class="symbol">:studying_materials</span>, <span class="symbol">class_name:</span> <span class="string">"Book"</span>
<span class="keyword">end</span>
</code></pre>
<pre><code class="lang-ruby"><span class="class"><span class="keyword">class</span> <span class="title">Book</span> &lt; ActiveRecord::Base</span>
  <span class="keyword">include</span> ActiveResourceAssociatable

  belongs_to_activeresource <span class="symbol">:reader</span>
<span class="keyword">end</span>
</code></pre>
<p>Now you can call <code>reader.studying_materials</code> which will return the array of objects of non ActiveResource class Book.</p>
<p>User can also call books using a specific foreign key. For Example,</p>
<pre><code class="lang-ruby"><span class="class"><span class="keyword">class</span> <span class="title">UserResource</span> &lt; ActiveResource::Base</span>
  <span class="keyword">self</span>.site = <span class="string">""</span>

  <span class="keyword">include</span> ActiveResourceAssociatable

  has_many_activeresources <span class="symbol">:books</span>, <span class="symbol">foreign_key:</span> <span class="string">"user_id"</span>
<span class="keyword">end</span>
</code></pre>
<h4 id="has-and-belongs-to-many-activeresources">Has And Belongs To Many ActiveResources</h4>
<p><code>active_resource_associatable</code> provides many to many associations between ActiveResource and ActiveRecord. 
User class is a ActiveResource class and can have many images. Likewise, Image which is a ActiveRecord class can have many users.</p>
<pre><code class="lang-ruby"><span class="class"><span class="keyword">class</span> <span class="title">User</span> &lt; ActiveResource::Base</span>
  <span class="keyword">self</span>.site = <span class="string">""</span>

  <span class="keyword">include</span> ActiveResourceAssociatable

  has_and_belongs_to_many_activeresources <span class="symbol">:images</span>
<span class="keyword">end</span>
</code></pre>
<pre><code class="lang-ruby"><span class="class"><span class="keyword">class</span> <span class="title">Image</span> &lt; ActiveRecord::Base</span>
  <span class="keyword">include</span> ActiveResourceAssociatable

  has_and_belongs_to_many_activeresources <span class="symbol">:users</span>
<span class="keyword">end</span>
</code></pre>
<p>You can use class_name and foreign_key as in <code>has_many_activeresources</code>.</p>
<pre><code class="lang-ruby"><span class="class"><span class="keyword">class</span> <span class="title">UserResource</span> &lt; ActiveResource::Base</span>
  <span class="keyword">self</span>.site = <span class="string">""</span>

  <span class="keyword">include</span> ActiveResourceAssociatable

  has_and_belongs_to_many_activeresources <span class="symbol">:images</span>, <span class="symbol">foreign_key:</span> <span class="string">"user_id"</span>
<span class="keyword">end</span>
</code></pre>
<pre><code class="lang-ruby"><span class="class"><span class="keyword">class</span> <span class="title">Image</span> &lt; ActiveRecord::Base</span>
  <span class="keyword">include</span> ActiveResourceAssociatable

  has_and_belongs_to_many_activeresources <span class="symbol">:users</span>, <span class="symbol">class_name:</span> <span class="string">'UserResource'</span>
<span class="keyword">end</span>
</code></pre>
<h4 id="has-many-through-activeresources">Has Many Through ActiveResources</h4>
<p><code>has_many_through_activeresources</code> can also be achieved using <code>active_resource_associatable</code>. User can have many friends through friendships. Similarly, a friend can also have many users through friendships.</p>
<pre><code class="lang-ruby"><span class="class"><span class="keyword">class</span> <span class="title">UserResource</span> &lt; ActiveResource::Base</span>
  <span class="keyword">self</span>.site = <span class="string">""</span>

  <span class="keyword">include</span> ActiveResourceAssociatable

  has_many_through_activeresources <span class="symbol">:friends</span>, <span class="symbol">through:</span> <span class="symbol">:friendships</span>
<span class="keyword">end</span>
</code></pre>
<pre><code class="lang-ruby"><span class="class"><span class="keyword">class</span> <span class="title">Friend</span> &lt; ActiveRecord::Base</span>

  <span class="keyword">include</span> ActiveResourceAssociatable

  has_many_through_activeresources <span class="symbol">:users</span>, <span class="symbol">through:</span> <span class="symbol">:friendships</span>, <span class="symbol">class_name:</span> <span class="string">'UserResource'</span>
<span class="keyword">end</span>
</code></pre>
<pre><code class="lang-ruby"><span class="class"><span class="keyword">class</span> <span class="title">Friendship</span> &lt; ActiveRecord::Base</span>
  <span class="keyword">include</span> ActiveResourceAssociatable

  belongs_to_activeresource <span class="symbol">:user</span>
  belongs_to <span class="symbol">:friend</span>
<span class="keyword">end</span>
</code></pre>
<h2 id="conclusion">Conclusion</h2>
<hr>
<p>Every ruby or rails programmer should try this rubygem once. I believe you will really like it. Please don&#39;t forget to share your valuable feedback. </p>
</section><hr/><div id="social_bottom" class="topsocial"><div class="social"><a href="/articles/2016-08-23-associate-with-active-resource-associatable/" data-url="http://blog.neerajk.com/articles/2016-08-23-associate-with-active-resource-associatable/" data-text="Associate with ActiveResourceAssociatable #ruby #rails #ActiveRecord #ActiveResource #ActiveResourceAssociatable /via @bundlexec" data-count="vertical" class="twitter-share-button"><twitter-share-button></twitter-share-button></a><script src="//platform.twitter.com/widgets.js"></script></div><div class="social"><g:plusone size="tall" href="http://blog.neerajk.com/articles/2016-08-23-associate-with-active-resource-associatable/"></g:plusone></div><div class="social"><script type="IN/Share" data-url="http://blog.neerajk.com/articles/2016-08-23-associate-with-active-resource-associatable/" data-counter="top"></script></div><div class="social"><div data-href="http://blog.neerajk.com/articles/2016-08-23-associate-with-active-resource-associatable/" data-width="450" data-layout="box_count" data-show-faces="true" data-send="false" class="fb-like"></div></div></div><hr/><h3>Similar Articles</h3><table class="table table-striped"><tbody><tr><td><a href="/articles/2014-03-15-Migration-from-svn-to-git/" title="ruby,git,svn">Successful Migration from svn to git with history</a></td></tr><tr><td><a href="/articles/2013-12-27-Ruby-oci8_with-rails/" title="ruby">Ruby-oci8 with Rails</a></td></tr><tr><td><a href="/articles/2014-06-18-Smart-Deployment-using-Hubot/" title="ruby,rails,hubot,capistrano,basecamp,campfire">Smart Deployment using Hubot</a></td></tr><tr><td><a href="/articles/2014-11-26-is-active-support-concern-really-another-concern/" title="ruby,rails,active_support">Is ActiveSupport::Concern really Another Concern?</a></td></tr><tr><td><a href="/articles/2014-09-25-How-To-Wire-Up-Ruby-On-Rails-And-Ampersandjs-As-A-Single-Page-Application/" title="ruby,rails,ampersand.js,spa,git">How To Wire up Ruby on Rails and Ampersand.js As a Single Page Application</a></td></tr></tbody></table><h4></h4><div id="disqus_thread"></div><script type="text/javascript">
var disqus_shortname = 'neerajkumar';
(function() {
   var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
   dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
   (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a></article></div><div id="sidebar" class="col-lg-3 col-sm-3"><div class="sidebar-header"><a href="http://blog.neerajk.com/about.html"><img src="/assets/images/13.jpg" class="img-circle img-responsive"/></a><hr/><h3><p class="pull-right"><a href="http://blog.neerajk.com/about.html"></a></p><P><a href="http://blog.neerajk.com/about.html">About</a></P></h3><hr/><h3><p class="pull-right"><a href="http://blog.neerajk.com/about.html#awards-and-honors"></a></p><P><a href="http://blog.neerajk.com/about.html#awards-and-honors">Award and Honors</a></P></h3><hr/><h3><p class="pull-right"><a href="https://in.linkedin.com/in/neerajkumar2013/"><img src="/assets/images/linkedin.png"/></a></p><P><a href="https://in.linkedin.com/in/neerajkumar2013/">LinkedIn</a></P></h3><hr/><h3><p class="pull-right"><a href="https://github.com/neerajkumar"><img src="/assets/images/github.png"/></a></p><P><a href="https://github.com/neerajkumar" style="color:black;">Github</a></P></h3><hr/><h3><p class="pull-right"><a href="https://twitter.com/bundlexec"><img src="/assets/images/twitter.png"/></a></p><P><a href="https://twitter.com/bundlexec" style="color:#00aced">Twitter</a></P></h3><hr/><h3><p class="pull-right"><a href="https://www.facebook.com/neerajkggn"><img src="/assets/images/facebook.png"/></a></p><P><a href="https://www.facebook.com/neerajkggn" style="color:#3B5998;">Facebook</a></P></h3><hr/></div><div class="sidebar"><ol><li><a href="/articles/2016-12-06-active-resource-changeable/">Active Resource Changeable</a><br/></li><li><a href="/articles/2016-08-23-associate-with-active-resource-associatable/">Associate with ActiveResourceAssociatable</a><br/></li><li><a href="/articles/2016-07-31-roda-versus-rails/">Roda versus Rails</a><br/></li><li><a href="/articles/2014-11-26-is-active-support-concern-really-another-concern/">Is ActiveSupport::Concern really Another Concern?</a><br/></li><li><a href="/articles/2014-09-25-How-To-Wire-Up-Ruby-On-Rails-And-Ampersandjs-As-A-Single-Page-Application/">How To Wire up Ruby on Rails and Ampersand.js As a Single Page Application</a><br/></li><li><a href="/articles/2014-06-18-Smart-Deployment-using-Hubot/">Smart Deployment using Hubot</a><br/></li><li><a href="/articles/2014-03-15-Migration-from-svn-to-git/">Successful Migration from svn to git with history</a><br/></li><li><a href="/articles/2013-12-27-Ruby-oci8_with-rails/">Ruby-oci8 with Rails</a><br/></li></ol></div><!--include about--></div></div><hr/><footer class="footer"><div style="font-size: 13px" class="inner"></div></footer></div><!--le javascript--><!--script(src='http://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js')--><!--script(src= '#{locals.baseUrl}' + '/assets/javascript/jquery-twitter-plugin.js')--><script src="http://blog.neerajk.com/assets/javascript/jquery.min.js"></script><script src="http://blog.neerajk.com/assets/javascript/app.js"></script><script src="http://blog.neerajk.com/assets/bootstrap/js/bootstrap.min.js"></script><script src="http://platform.linkedin.com/in.js"></script><script type="text/javascript">
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>
<script>
   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
   (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
   m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
   })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
   ga('create', 'UA-82931503-1', 'auto');
   ga('send', 'pageview');
</script>
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&status=0";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));
</script></body></html>